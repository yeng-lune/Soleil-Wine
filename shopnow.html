<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop Now</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="shopnow.css">
</head>
<body>

    <div class="header">
        <a href="index.html" class="logo">Shop now</a>
        <div class="cart"><i class="fa-solid fa-cart-shopping"></i><p id="count">0</p></div>
    </div>
    <div class="container">
        
        <div class="sidebar">
            <div class="head"><p>My Cart</p></div>
            <div id="cartItem">Your cart is empty</div>
            <div class="foot">
                <h3>Total</h3>
                <h2 id="total">$ 0.00</h2>
                <button id="buyNowBtn" onclick="buyNow()">Buy Now</button>
            </div>
        </div>
    </div>
    <div class="bg-shop" id="shop">
        <div class="shop-links">
            <div>
                <h2>Soleil Wine</h2>
            </div>
        </div>
        <div class="box-container">
            <div class="box">
                <div class="image" id="0">
                    <img src="Beaulieu-Vineyard-Cabernet-Sauvignon-Napa-Valley.jpeg" alt="">
                    <div class="discount">
                        <span>-7%</span>
                    </div>
                    <div class="icons">
                        <a href="#"><i class="far fa-heart"></i></a>
                        <a href="" id="addToCartBtn" link="foot"><i class="fas fa-shopping-cart"></i></a>
                    </div>
                </div>
                <div class="content">
                <h2>Beaulieu Vineyard Cabernet Sauvignon Napa Valley</h2>
                <div class="stars" id="1">
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="far fa-star"></i>
                </div>
                <div class="price">
                <article>
                    $29.99
                </article>
                <span>
                    $33.99
                </span>
                </div></div>

            </div>

                <div class="box">
                    <div class="image" id="0">
                    <img src="Carlo-Rossi-Merlot.jpeg" alt="">
                    <div class="discount">
                        -12%
                    </div>
                    <div class="icons">
                        <a href="#"><i class="far fa-heart"></i></a>
                        <a href="" id="addToCartBtn" link="foot"><i class="fas fa-shopping-cart"></i></a>
                    </div>
                </div>
                <div class="content">
                <h2>Carlo Rossi Merlot</h2>
                <div class="stars" id="2">
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="far fa-star"></i>
                    <i class="far fa-star"></i>
                </div>
                <div class="price">
                <article>
                    $16.99
                </article>
                <span>
                    $19.99
                </span></div></div>
            </div>

                <div class="box">
                    <div class="image" id="0">
                    <img src="La-Crema-Sonoma-Coast-Pinot-Noir.jpeg" alt="">
                    <div class="discount">
                        -13%
                    </div>
                    <div class="icons">
                        <a href="#"><i class="far fa-heart"></i></a>
                        <a href="" id="addToCartBtn" link="foot"><i class="fas fa-shopping-cart"></i></a>
                    </div>
                </div>
                <div class="content">
                <h2>La Crema Sonoma Coast Pinot Noi</h2>
                <div class="stars" id="3">
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="far fa-star"></i>
                </div>
                <div class="price">
                <article>
                    $23.99
                </article>
                <span>
                    $25.00
                </span></div></div>
            </div>


            
            <div class="box">
                <div class="image" id="0">
                    <img src="Cooper-and-Thief-Bourbon-Barrel-Aged-Red-Blend-Red-Wine.jpeg" alt="">
                    <div class="discount">
                        -6%
                    </div>
                    <div class="icons">
                        <a href="#"><i class="far fa-heart"></i></a>
                        <a href="" id="addToCartBtn" link="foot"><i class="fas fa-shopping-cart"></i></a>
                    </div>
                </div>
                <div class="content">
                <h2>Cooper and Thief Bourbon Barrel Aged Red Blend</h2>
                <div class="stars" id="4">
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="far fa-star"></i>
                </div>
                <div class="price">
                <article>
                    $27.99
                </article>
                <span>
                    $30.00
                </span></div></div>
            </div>


            
            <div class="box">
                <div class="image" id="0">
                    <img src="Secret-Squirrel-2013.jpeg" alt="">
                    <div class="discount">
                        -20%
                    </div>
                    <div class="icons">
                        <a href="#"><i class="far fa-heart"></i></a>
                        <a href="" id="addToCartBtn" link="foot"><i class="fas fa-shopping-cart"></i></a>
                    </div>
                </div>
                <div class="content">
                <h2>Secret Squirrel 2013</h2>
                <div class="stars" id="5">
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="far fa-star"></i>
                </div>
                <div class="price">
                <article>
                    $28.49
                </article>
                <span>
                    $35.99
                </span></div></div>
            </div>

            
                
            <div class="box">
                <div class="image" id="0">
                    <img src="Molly-Dooker-Red-Two-Left-Feet.jpeg" alt="">
                    <div class="discount">
                        -5%
                    </div>
                    <div class="icons">
                        <a href="#"><i class="far fa-heart"></i></a>
                        <a href="" id="addToCartBtn" link="foot"><i class="fas fa-shopping-cart"></i></a>
                    </div>
                </div>
                <div class="content">
                <h2>Molly Dooker Red Two Left Feet</h2>
                <div class="stars" id="6">
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                </div>
                <div class="price">
                <article>
                    $29.99
                </article>
                <span>
                    $33.99
                </span></div></div>
            </div>

            
                <div class="box">
                    <div class="image" id="0">
                    <img src="La-Crema-Sonoma-Coast-Chardonnay.jpeg" alt="">
                    <div class="discount">
                        -7%
                    </div>
                    <div class="icons">
                        <a href="#"><i class="far fa-heart"></i></a>
                        <a href="" id="addToCartBtn" link="foot"><i class="fas fa-shopping-cart"></i></a>
                    </div>
                </div>
                <div class="content">
                <h2>La Crema Sonoma Coast Chardonnay</h2>
                <div class="stars" id="7">
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="far fa-star"></i>
                </div>
                <div class="price">
                <article>
                    $19.99
                </article>
                <span>
                    $21.99
                </span></div></div>
            </div>

            <div class="box">
                <div class="image" id="0">
                    <img src="Cloudy-Bay-Sauvignon-Blanc.jpeg" alt="">
                    <div class="discount">
                        -15%
                    </div>
                    <div class="icons">
                        <a href="#"><i class="far fa-heart"></i></a>
                        <a href="" id="addToCartBtn" link="foot"><i class="fas fa-shopping-cart"></i></a>
                    </div>
                </div>
                <div class="content">
                <h2>Cloudy Bay Sauvignon Blanc</h2>
                <div class="stars" id="8">
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="far fa-star"></i>
                </div>
                <div class="price">
                <article>
                    $29.99
                </article>
                <span>
                    $35.99
                </span></div></div>
            </div>

            <div class="box">
                <div class="image" id="0">
                    <img src="Santa-Margherita-Pinot-Grigio-DOC.jpeg" alt="">
                    <div class="discount">
                        -15%
                    </div>
                    <div class="icons">
                        <a href="#"><i class="far fa-heart"></i></a>
                        <a href="" id="addToCartBtn" link="foot"><i class="fas fa-shopping-cart"></i></a>
                    </div>
                </div>
                <div class="content">
                <h2>Santa Margherita Pinot Grigio DOC</h2>
                <div class="stars" id="9">
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="far fa-star"></i>
                </div>
                <div class="price">
                <article>
                    $23.99
                </article>
                <span>
                    $25.99
                </span></div></div>
            </div>

                
            <div class="box"><div class="image" id="0">
                    <img src="Lightwell-Survey-Goodbye-Horses-1.jpeg" alt="">
                    <div class="discount">
                        -15%
                    </div>
                    <div class="icons">
                        <a href="#"><i class="far fa-heart"></i></a>
                        <a href="" id="addToCartBtn" link="foot"><i class="fas fa-shopping-cart"></i></a>
                    </div>
                </div>
                <div class="content">
                <h2>Lightwell Survey Goodbye Horses</h2>
                <div class="stars" id="10">
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="far fa-star"></i>
                </div>
                <div class="price">
                <article>
                    $27.99
                </article>
                <span>
                    $30.99
                </span></div></div>
            </div>

            <div class="box">
                <div class="image" id="0">
                    <img src="ci-domaine-weinbach-gewurztraminer-reserve-personnelle-02014ad6feb14311.jpeg" alt="">
                    <div class="discount">
                        -15%
                    </div>
                    <div class="icons">
                        <a href="#"><i class="far fa-heart"></i></a>
                        <a href="" id="addToCartBtn" link="foot"><i class="fas fa-shopping-cart"></i></a>
                    </div>
                </div>
                <div class="content">
                <h2>domaine weinbach gewurztraminer</h2>
                <div class="stars" id="11">
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="far fa-star"></i>
                </div>
                <div class="price">
                <article>
                    $30.52
                </article>
                <span>
                    $33.99
                </span></div></div>
            </div>

            <div class="box">
                <div class="image" id="0">
                    <img src="ci-weingut-berger-gruner-veltliner-ce990bea65652bf3.jpeg" alt="">
                    <div class="discount">
                        -15%
                    </div>
                    <div class="icons">
                        <a href="#"><i class="far fa-heart"></i></a>
                        <a href="" id="addToCartBtn" link="foot"><i class="fas fa-shopping-cart"></i></a>
                    </div>
                </div>
                <div class="content">
                <h2>weingut berger gruner veltliner</h2>
                <div class="stars" id="12">
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="fas fa-star gold"></i>
                    <i class="far fa-star"></i>
                </div>
                <div class="price">
                <article>
                    $15.49
                </article>
                <span>
                    $18.99
                </span></div></div>
            </div>

        </div>

        <!-- Add this script at the end of your HTML file -->
<script>
    // Initialize cart items from local storage or an empty array
    var cartItems = JSON.parse(localStorage.getItem('cart')) || [];

    // Add click event listener to all "Add to Cart" buttons
    var addToCartButtons = document.querySelectorAll('.box-container .icons #addToCartBtn');
    addToCartButtons.forEach(function (button) {
        button.addEventListener('click', function () {
            // Get the parent shop item
            var shopItem = this.closest('.box-container');

            // Get item details
            var itemName = shopItem.querySelector('h2').textContent;
            var itemPrice = parseFloat(shopItem.querySelector('article').textContent.replace('$', ''));

            // Check if the item is already in the cart
            var existingItem = cartItems.find(function (item) {
                return item.name === itemName;
            });

            // If the item is already in the cart, increase its quantity; otherwise, add it to the cart
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cartItems.push({
                    name: itemName,
                    price: itemPrice,
                    quantity: 1
                });
            }

            // Update local storage and UI
            updateCart();
            alert('Item added to cart!');
        });
    });

    // Update the cart UI and total
    function updateCart() {
        // Update local storage
        localStorage.setItem('cart', JSON.stringify(cartItems));

        // Update cart count in the header
        var cartCount = document.getElementById('count');
        cartCount.textContent = cartItems.reduce(function (total, item) {
            return total + item.quantity;
        }, 0);

        // Update cart items in the sidebar
        var cartItemContainer = document.getElementById('cartItem');
        if (cartItems.length === 0) {
            cartItemContainer.textContent = 'Your cart is empty';
        } else {
            cartItemContainer.innerHTML = '';
            cartItems.forEach(function (item) {
                var cartItemElement = document.createElement('div');
                cartItemElement.textContent = item.name + ' x' + item.quantity;
                cartItemContainer.appendChild(cartItemElement);
            });
        }

        // Update total in the sidebar
        var totalElement = document.getElementById('total');
        var totalAmount = cartItems.reduce(function (total, item) {
            return total + item.price * item.quantity;
        }, 0);
        totalElement.textContent = '$ ' + totalAmount.toFixed(2);
    }

    // Initial update of the cart
    updateCart();
</script>

<script>
    // Initialize cart items from local storage or an empty array
    var cartItems = JSON.parse(localStorage.getItem('cart')) || [];

    // Update the cart UI and total
    function updateCart() {
        // Update local storage
        localStorage.setItem('cart', JSON.stringify(cartItems));

        // Update cart count in the header
        var cartCount = document.getElementById('count');
        cartCount.textContent = cartItems.reduce(function (total, item) {
            return total + item.quantity;
        }, 0);

        // Update cart items in the sidebar
        var cartItemContainer = document.getElementById('cartItem');
        if (cartItems.length === 0) {
            cartItemContainer.textContent = 'Your cart is empty';
        } else {
            cartItemContainer.innerHTML = '';
            cartItems.forEach(function (item, index) {
                var cartItemElement = document.createElement('div');
                cartItemElement.classList.add('cart-item');

                var quantityInput = document.createElement('input');
                quantityInput.type = 'number';
                quantityInput.value = item.quantity;
                quantityInput.min = 1;
                quantityInput.max = 10;
                quantityInput.addEventListener('change', function () {
                    // Update the quantity when changed
                    item.quantity = parseInt(quantityInput.value, 10);
                    updateCart();
                });

                var removeButton = document.createElement('button');
                removeButton.textContent = 'x';
                removeButton.addEventListener('click', function () {
                    // Remove the item from the cart
                    cartItems.splice(index, 1);
                    updateCart();
                });

                cartItemElement.textContent = item.name + ' - $' + item.price.toFixed(2) + ' x ';
                cartItemElement.appendChild(quantityInput);
                cartItemElement.appendChild(removeButton);

                cartItemContainer.appendChild(cartItemElement);
            });
        }

        // Update total in the sidebar
        var totalElement = document.getElementById('total');
        var totalAmount = cartItems.reduce(function (total, item) {
            return total + item.price * item.quantity;
        }, 0);
        totalElement.textContent = '$ ' + totalAmount.toFixed(2);
    }

    // Initial update of the cart
    updateCart();
</script>

<!-- Add this script at the end of your HTML file -->
<script>
    function buyNow() {
        // Get the total amount from the #total element
        var totalAmount = parseFloat(document.getElementById('total').textContent.replace('$', ''));

        if (totalAmount > 0) {
            // Perform the logic to handle the purchase
            alert('Redirecting to checkout page. Thank you for shopping!');
            // You can implement your actual redirection logic here
        } else {
            alert('Your cart is empty. Add items before proceeding to checkout.');
        }
    }
</script>

</body>
</html>